{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CIOOutput",
  "type": "object",
  "required": ["session_plan", "agent_calls", "trade_intents", "notes"],
  "properties": {
    "session_plan": {
      "type": "object",
      "required": ["mode", "date", "universe", "strategies_enabled", "max_trades_today"],
      "properties": {
        "mode": {"type": "string", "enum": ["PAPER"]},
        "date": {"type": "string", "format": "date"},
        "universe": {
          "type": "array",
          "items": {"type": "string"}
        },
        "strategies_enabled": {
          "type": "array",
          "items": {"type": "string"}
        },
        "max_trades_today": {"type": "integer", "minimum": 0}
      }
    },
    "agent_calls": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["agent", "input"],
        "properties": {
          "agent": {"type": "string"},
          "input": {"type": "object"}
        }
      }
    },
    "trade_intents": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["candidate_ref", "priority"],
        "properties": {
          "candidate_ref": {"type": "string"},
          "priority": {"type": "integer"}
        }
      }
    },
    "spawn_agents": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "purpose", "contract", "acceptance_tests"],
        "properties": {
          "name": {"type": "string"},
          "purpose": {"type": "string"},
          "contract": {"type": "string"},
          "acceptance_tests": {"type": "string"}
        }
      }
    },
    "notes": {"type": "string"}
  }
}
